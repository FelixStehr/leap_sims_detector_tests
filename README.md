# leap_sims

### How to run leap_sims_master  
1.  set the environment:  
  `source /cvmfs/sft.cern.ch/lcg/releases/LCG_97/Geant4/10.06.p01/x86_64-centos7-gcc8-opt/Geant4-env.sh`  
  `source /cvmfs/sft.cern.ch/lcg/releases/LCG_97/Geant4/10.06.p01/x86_64-centos7-gcc8-opt/bin/geant4.sh`  

2.  make a build directory and change to the build directory:  
  `mkdir build`  
  `cd build`  

3. build the application:  
  `/cvmfs/sft.cern.ch/lcg/releases/LCG_97/CMake/3.14.3/x86_64-centos7-gcc8-opt/bin/cmake ../`  
  `make`  
  `./leap_sims  -m macfile.mac -f outFileName -t outType`

  `-m` specifies the name of the macrofile and starts the run in batch mode
  `-f` specifies the name of the ttree saved
  `-t` specifies the what is saved to the ttree. Use `bunch` to save the photon energy sum, generated by one electron bunch. Use `single` to save information about every photon passing the detector volume.   

  **Important**: If outType `bunch` is used, it is not recommended to simulate more than one electron bunch! 
